<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedCompanion - Interactive Prototype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse-ring {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        .slide-up {
            animation: slideUp 0.4s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Main App Component
        function MedCompanionApp() {
            const [currentScreen, setCurrentScreen] = useState('home');
            const [medications, setMedications] = useState([
                { id: 1, name: 'Lisinopril', dosage: '10mg', time: '8:00 AM', taken: true, color: 'bg-pink-400' },
                { id: 2, name: 'Metformin', dosage: '500mg', time: '8:00 AM', taken: false, color: 'bg-blue-400' },
                { id: 3, name: 'Atorvastatin', dosage: '20mg', time: '8:00 PM', taken: false, color: 'bg-yellow-400' }
            ]);
            const [showReminder, setShowReminder] = useState(false);
            const [showSuccess, setShowSuccess] = useState(false);

            useEffect(() => {
                // Simulate a medication reminder after 2 seconds
                const timer = setTimeout(() => {
                    if (currentScreen === 'home') {
                        setShowReminder(true);
                    }
                }, 2000);
                return () => clearTimeout(timer);
            }, [currentScreen]);

            const takeMedication = (id) => {
                setMedications(meds => 
                    meds.map(med => 
                        med.id === id ? { ...med, taken: true } : med
                    )
                );
                setShowReminder(false);
                setShowSuccess(true);
                setTimeout(() => setShowSuccess(false), 3000);
            };

            return (
                <div className="max-w-md mx-auto min-h-screen bg-white shadow-2xl relative">
                    {/* Header */}
                    <div className="bg-gradient-to-r from-indigo-600 to-blue-500 text-white p-6 rounded-b-3xl">
                        <div className="flex items-center justify-between">
                            <div>
                                <h1 className="text-2xl font-bold">MedCompanion</h1>
                                <p className="text-blue-100 text-sm mt-1">Your health, our priority</p>
                            </div>
                            <div className="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                <span className="text-2xl">üíä</span>
                            </div>
                        </div>
                    </div>

                    {/* Navigation */}
                    <div className="flex justify-around bg-white shadow-sm py-4 sticky top-0 z-10">
                        <NavButton 
                            icon="üè†" 
                            label="Home" 
                            active={currentScreen === 'home'} 
                            onClick={() => setCurrentScreen('home')} 
                        />
                        <NavButton 
                            icon="üìä" 
                            label="Progress" 
                            active={currentScreen === 'progress'} 
                            onClick={() => setCurrentScreen('progress')} 
                        />
                        <NavButton 
                            icon="ü§ñ" 
                            label="AI Coach" 
                            active={currentScreen === 'coach'} 
                            onClick={() => setCurrentScreen('coach')} 
                        />
                        <NavButton 
                            icon="üë•" 
                            label="Family" 
                            active={currentScreen === 'family'} 
                            onClick={() => setCurrentScreen('family')} 
                        />
                    </div>

                    {/* Main Content */}
                    <div className="p-6">
                        {currentScreen === 'home' && <HomeScreen medications={medications} takeMedication={takeMedication} />}
                        {currentScreen === 'progress' && <ProgressScreen medications={medications} />}
                        {currentScreen === 'coach' && <CoachScreen />}
                        {currentScreen === 'family' && <FamilyScreen />}
                    </div>

                    {/* Medication Reminder Modal */}
                    {showReminder && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 fade-in">
                            <div className="bg-white rounded-3xl p-8 m-4 max-w-sm slide-up">
                                <div className="text-center">
                                    <div className="w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4 pulse-ring">
                                        <span className="text-4xl">‚è∞</span>
                                    </div>
                                    <h3 className="text-2xl font-bold text-gray-800 mb-2">Time for your medication!</h3>
                                    <p className="text-gray-600 mb-6">It's 8:00 AM - Time to take Metformin</p>
                                    <div className="bg-blue-50 rounded-xl p-4 mb-6">
                                        <div className="flex items-center justify-between">
                                            <div className="text-left">
                                                <p className="font-semibold text-gray-800">Metformin</p>
                                                <p className="text-sm text-gray-600">500mg - 1 tablet</p>
                                            </div>
                                            <div className="w-12 h-12 bg-blue-400 rounded-full"></div>
                                        </div>
                                    </div>
                                    <button 
                                        onClick={() => takeMedication(2)}
                                        className="w-full bg-gradient-to-r from-indigo-600 to-blue-500 text-white font-semibold py-4 rounded-xl hover:shadow-lg transition duration-300"
                                    >
                                        I've taken it ‚úì
                                    </button>
                                    <button 
                                        onClick={() => setShowReminder(false)}
                                        className="w-full mt-3 text-gray-500 font-medium py-2"
                                    >
                                        Remind me in 10 minutes
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Success Toast */}
                    {showSuccess && (
                        <div className="fixed top-24 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-full shadow-lg z-50 fade-in">
                            <div className="flex items-center gap-2">
                                <span>‚úì</span>
                                <span className="font-medium">Medication logged successfully!</span>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Navigation Button Component
        function NavButton({ icon, label, active, onClick }) {
            return (
                <button 
                    onClick={onClick}
                    className={`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition duration-200 ${
                        active ? 'text-indigo-600 bg-indigo-50' : 'text-gray-400 hover:text-gray-600'
                    }`}
                >
                    <span className="text-xl">{icon}</span>
                    <span className="text-xs font-medium">{label}</span>
                </button>
            );
        }

        // Home Screen Component
        function HomeScreen({ medications, takeMedication }) {
            const now = new Date();
            const greeting = now.getHours() < 12 ? 'Good Morning' : now.getHours() < 18 ? 'Good Afternoon' : 'Good Evening';
            const todayTaken = medications.filter(m => m.taken).length;
            const totalToday = medications.length;

            return (
                <div className="fade-in space-y-6">
                    {/* Greeting */}
                    <div>
                        <h2 className="text-2xl font-bold text-gray-800">{greeting}, Margaret! üëã</h2>
                        <p className="text-gray-600 mt-1">Let's keep up with your health today</p>
                    </div>

                    {/* Today's Progress */}
                    <div className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200">
                        <div className="flex items-center justify-between mb-4">
                            <h3 className="text-lg font-semibold text-gray-800">Today's Progress</h3>
                            <span className="text-3xl">üéØ</span>
                        </div>
                        <div className="flex items-end gap-2 mb-2">
                            <span className="text-4xl font-bold text-green-600">{todayTaken}</span>
                            <span className="text-2xl text-gray-400 mb-1">/ {totalToday}</span>
                        </div>
                        <p className="text-gray-600">medications taken</p>
                        <div className="mt-4 bg-white bg-opacity-60 rounded-full h-3 overflow-hidden">
                            <div 
                                className="bg-green-500 h-full rounded-full transition-all duration-500"
                                style={{ width: `${(todayTaken / totalToday) * 100}%` }}
                            ></div>
                        </div>
                    </div>

                    {/* Medication List */}
                    <div>
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">Your Medications</h3>
                        <div className="space-y-3">
                            {medications.map(med => (
                                <div 
                                    key={med.id}
                                    className={`bg-white rounded-xl p-4 border-2 transition-all duration-300 ${
                                        med.taken 
                                            ? 'border-green-200 bg-green-50' 
                                            : 'border-gray-200 hover:border-indigo-300 hover:shadow-md'
                                    }`}
                                >
                                    <div className="flex items-center justify-between">
                                        <div className="flex items-center gap-4">
                                            <div className={`w-14 h-14 ${med.color} rounded-full flex items-center justify-center text-white font-bold shadow-lg`}>
                                                {med.name[0]}
                                            </div>
                                            <div>
                                                <h4 className="font-semibold text-gray-800">{med.name}</h4>
                                                <p className="text-sm text-gray-600">{med.dosage}</p>
                                                <p className="text-xs text-gray-500 mt-1">‚è∞ {med.time}</p>
                                            </div>
                                        </div>
                                        {med.taken ? (
                                            <div className="text-green-500 text-2xl">‚úì</div>
                                        ) : (
                                            <button 
                                                onClick={() => takeMedication(med.id)}
                                                className="bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition duration-200"
                                            >
                                                Take
                                            </button>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Quick Actions */}
                    <div className="grid grid-cols-2 gap-3 mt-6">
                        <button className="bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-indigo-300 hover:shadow-md transition duration-200">
                            <div className="text-3xl mb-2">üì∏</div>
                            <p className="text-sm font-medium text-gray-700">Verify Pill</p>
                        </button>
                        <button className="bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-indigo-300 hover:shadow-md transition duration-200">
                            <div className="text-3xl mb-2">üîî</div>
                            <p className="text-sm font-medium text-gray-700">Set Reminder</p>
                        </button>
                    </div>
                </div>
            );
        }

        // Progress Screen Component
        function ProgressScreen({ medications }) {
            const weekData = [
                { day: 'Mon', percentage: 100 },
                { day: 'Tue', percentage: 85 },
                { day: 'Wed', percentage: 100 },
                { day: 'Thu', percentage: 75 },
                { day: 'Fri', percentage: 100 },
                { day: 'Sat', percentage: 90 },
                { day: 'Sun', percentage: 67 }
            ];

            return (
                <div className="fade-in space-y-6">
                    <h2 className="text-2xl font-bold text-gray-800">Your Progress üìà</h2>
                    
                    {/* Weekly Stats */}
                    <div className="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-200">
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">This Week</h3>
                        <div className="flex items-end justify-between gap-2 h-40">
                            {weekData.map((data, idx) => (
                                <div key={idx} className="flex-1 flex flex-col items-center gap-2">
                                    <div className="w-full bg-white rounded-t-lg relative" style={{ height: `${data.percentage}%` }}>
                                        <div className={`absolute inset-0 rounded-t-lg ${
                                            data.percentage === 100 ? 'bg-green-400' : 
                                            data.percentage >= 85 ? 'bg-blue-400' : 'bg-yellow-400'
                                        }`}></div>
                                    </div>
                                    <span className="text-xs font-medium text-gray-600">{data.day}</span>
                                </div>
                            ))}
                        </div>
                        <div className="mt-6 flex items-center justify-between">
                            <div>
                                <p className="text-3xl font-bold text-purple-600">91%</p>
                                <p className="text-sm text-gray-600">Average adherence</p>
                            </div>
                            <div className="text-4xl">üåü</div>
                        </div>
                    </div>

                    {/* Achievements */}
                    <div>
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">Achievements üèÜ</h3>
                        <div className="space-y-3">
                            <div className="bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4">
                                <div className="flex items-center gap-3">
                                    <div className="text-3xl">üî•</div>
                                    <div>
                                        <p className="font-semibold text-gray-800">5 Day Streak!</p>
                                        <p className="text-sm text-gray-600">Keep it going!</p>
                                    </div>
                                </div>
                            </div>
                            <div className="bg-blue-50 border-2 border-blue-200 rounded-xl p-4">
                                <div className="flex items-center gap-3">
                                    <div className="text-3xl">‚≠ê</div>
                                    <div>
                                        <p className="font-semibold text-gray-800">Perfect Week</p>
                                        <p className="text-sm text-gray-600">100% adherence last week</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Health Impact */}
                    <div className="bg-white rounded-2xl p-6 border-2 border-gray-200">
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">Health Impact</h3>
                        <div className="space-y-4">
                            <div className="flex items-center justify-between">
                                <span className="text-gray-700">Blood Pressure</span>
                                <span className="font-semibold text-green-600">‚Üì Improved</span>
                            </div>
                            <div className="flex items-center justify-between">
                                <span className="text-gray-700">Blood Sugar</span>
                                <span className="font-semibold text-green-600">‚Üì Stable</span>
                            </div>
                            <div className="flex items-center justify-between">
                                <span className="text-gray-700">Cholesterol</span>
                                <span className="font-semibold text-green-600">‚Üì Reduced</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // AI Coach Screen Component
        function CoachScreen() {
            const [messages, setMessages] = useState([
                { id: 1, type: 'ai', text: "Hi Margaret! I'm your AI Health Coach. How can I help you today?" }
            ]);
            const [inputValue, setInputValue] = useState('');

            const quickQuestions = [
                "What are side effects of Metformin?",
                "Can I take meds with food?",
                "Why is my medication important?"
            ];

            const sendMessage = (text) => {
                setMessages([...messages, 
                    { id: messages.length + 1, type: 'user', text },
                    { id: messages.length + 2, type: 'ai', text: "That's a great question! Based on your current medications, let me help you with that..." }
                ]);
                setInputValue('');
            };

            return (
                <div className="fade-in space-y-6">
                    <div className="flex items-center gap-3">
                        <div className="w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white text-2xl">
                            ü§ñ
                        </div>
                        <div>
                            <h2 className="text-2xl font-bold text-gray-800">AI Health Coach</h2>
                            <p className="text-gray-600 text-sm">Ask me anything about your medications</p>
                        </div>
                    </div>

                    {/* Chat Messages */}
                    <div className="bg-gray-50 rounded-2xl p-4 min-h-[300px] max-h-[400px] overflow-y-auto space-y-3">
                        {messages.map(msg => (
                            <div key={msg.id} className={`flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}>
                                <div className={`max-w-[80%] rounded-2xl px-4 py-3 ${
                                    msg.type === 'user' 
                                        ? 'bg-indigo-600 text-white' 
                                        : 'bg-white text-gray-800 border border-gray-200'
                                }`}>
                                    <p className="text-sm">{msg.text}</p>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Quick Questions */}
                    <div>
                        <p className="text-sm font-medium text-gray-600 mb-3">Quick questions:</p>
                        <div className="space-y-2">
                            {quickQuestions.map((q, idx) => (
                                <button 
                                    key={idx}
                                    onClick={() => sendMessage(q)}
                                    className="w-full text-left bg-white border-2 border-gray-200 rounded-xl p-3 text-sm hover:border-indigo-300 hover:shadow-md transition duration-200"
                                >
                                    {q}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Voice Input */}
                    <button className="w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white font-semibold py-4 rounded-xl hover:shadow-lg transition duration-300 flex items-center justify-center gap-2">
                        <span className="text-xl">üé§</span>
                        <span>Ask with your voice</span>
                    </button>
                </div>
            );
        }

        // Family Screen Component
        function FamilyScreen() {
            return (
                <div className="fade-in space-y-6">
                    <h2 className="text-2xl font-bold text-gray-800">Family Connection üë®‚Äçüë©‚Äçüëß‚Äçüë¶</h2>

                    {/* Connected Family Members */}
                    <div>
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">Your Care Team</h3>
                        <div className="space-y-3">
                            <div className="bg-white border-2 border-gray-200 rounded-xl p-4">
                                <div className="flex items-center justify-between">
                                    <div className="flex items-center gap-3">
                                        <div className="w-12 h-12 bg-blue-400 rounded-full flex items-center justify-center text-white font-semibold">
                                            SR
                                        </div>
                                        <div>
                                            <p className="font-semibold text-gray-800">Sarah (Daughter)</p>
                                            <p className="text-sm text-gray-600">Primary caregiver</p>
                                        </div>
                                    </div>
                                    <div className="w-3 h-3 bg-green-400 rounded-full"></div>
                                </div>
                            </div>
                            <div className="bg-white border-2 border-gray-200 rounded-xl p-4">
                                <div className="flex items-center justify-between">
                                    <div className="flex items-center gap-3">
                                        <div className="w-12 h-12 bg-purple-400 rounded-full flex items-center justify-center text-white font-semibold">
                                            MJ
                                        </div>
                                        <div>
                                            <p className="font-semibold text-gray-800">Michael (Son)</p>
                                            <p className="text-sm text-gray-600">Support caregiver</p>
                                        </div>
                                    </div>
                                    <div className="w-3 h-3 bg-gray-400 rounded-full"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Recent Activity */}
                    <div className="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200">
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">Recent Activity</h3>
                        <div className="space-y-3">
                            <div className="flex items-start gap-3">
                                <div className="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
                                <div>
                                    <p className="text-sm text-gray-800"><span className="font-semibold">Sarah</span> viewed your progress</p>
                                    <p className="text-xs text-gray-500">2 hours ago</p>
                                </div>
                            </div>
                            <div className="flex items-start gap-3">
                                <div className="w-2 h-2 bg-blue-500 rounded-full mt-2"></div>
                                <div>
                                    <p className="text-sm text-gray-800">Medication reminder sent to <span className="font-semibold">Sarah</span></p>
                                    <p className="text-xs text-gray-500">Today at 8:00 AM</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Share Progress */}
                    <button className="w-full bg-gradient-to-r from-indigo-600 to-blue-500 text-white font-semibold py-4 rounded-xl hover:shadow-lg transition duration-300 flex items-center justify-center gap-2">
                        <span className="text-xl">üì§</span>
                        <span>Share today's progress</span>
                    </button>

                    {/* Emergency Contact */}
                    <div className="bg-red-50 border-2 border-red-200 rounded-xl p-4">
                        <div className="flex items-center gap-3">
                            <div className="text-3xl">üö®</div>
                            <div className="flex-1">
                                <p className="font-semibold text-gray-800">Emergency Contact</p>
                                <p className="text-sm text-gray-600">Tap to call Sarah</p>
                            </div>
                            <button className="bg-red-500 text-white px-4 py-2 rounded-lg font-medium">
                                Call
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<MedCompanionApp />, document.getElementById('root'));
    </script>
</body>
</html>
